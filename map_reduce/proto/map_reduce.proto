syntax = "proto3";

package map_reduce;

service MapReduce {
  rpc MapChunk (MapRequest) returns (MapReply) {};
  rpc ReduceChunk (MapRequest) returns (MapReply) {};
}

message MapRequest {
  string function = 1;
  bytes data = 2;
  string destination = 3;
  next_job messgae 
}

message ReductionRequest {
  string function = 1;
  bytes data = 2;
  string destination = 3;
  int32 number_of_chunks = 4;
  int32 chunk_id = 5;
  int32 job_id = 6;
}

message MapReply {
  bytes data = 1;
}